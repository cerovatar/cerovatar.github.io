<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalender Jawa</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f8f9fa;
            color: #343a40;
            margin: 0;
            padding: 0;
            position: relative;
        }

        /* Style untuk kotak kalender */
        .calendar-box {
            background-color: #000;
            /* Warna oranye kehitaman */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 95%;
            max-width: 600px;
            margin-bottom: 20px;
            text-align: center;
            box-sizing: border-box;
            color: red;
            /* Warna teks di dalam kotak */
        }

        /* Style untuk judul di atas kotak */
        .calendar-title-box {
            background-color: #FF8C00;
            /* Warna oranye kehitaman */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 10px;
            margin-bottom: 15px;
            text-align: center;
            color: white;
            /* Warna teks di dalam kotak */
        }

        .calendar-title {
            font-size: 2rem;
            color: white; /* Warna teks putih */
            text-align: center;
        }

        .calendar {
            width: 100%;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .header button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 0.9rem;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }

        .header button:hover {
            background-color: #0056b3;
        }

        #monthYear {
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
        }

        .select-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }

        select {
            padding: 8px;
            margin: 0 5px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #495057;
            background-color: #fff;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th,
        td {
            text-align: center;
            padding: 8px;
            border: 1px solid #dee2e6;
            word-break: break-word;
            color: white;
        }

        th {
            background-color: #e9ecef;
            font-weight: 500;
            font-size: 0.9rem;
        }

        td {
            font-size: 0.9rem;
        }

        td[data-tanggal] {
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        td[data-tanggal]:hover {
            background-color: #f1f1f1;
        }

        td small {
            display: block;
            margin-top: 3px;
            font-size: 0.7rem;
            color: #6c757d;
        }

        /* Style untuk tanggal merah */
        td.holiday {
            color: red;
            font-weight: bold;
        }

        footer {
            background-color: #343a40;
            color: white;
            text-align: center;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
            border-radius: 0;
            position: absolute;
            bottom: 0;
        }

        /* Media query untuk layar yang lebih kecil */
        @media (max-width: 576px) {
            .calendar-box {
                padding: 15px;
            }

            .calendar-title-box {
                padding: 8px;
            }

            .calendar-title {
                font-size: 1.75rem;
            }

            h1 {
                font-size: 1.75rem;
            }

            .header button {
                font-size: 0.8rem;
                padding: 6px 12px;
            }

            #monthYear {
                font-size: 1.25rem;
            }

            th,
            td {
                padding: 6px;
                font-size: 0.8rem;
            }

            td small {
                font-size: 0.6rem;
            }
        }
    </style>
</head>

<body>
    <div class="calendar-title-box">
        <div class="calendar-title">Kalender Jawa</div>
    </div>
    <div class="calendar-box">
        <div class="select-container">
            <select id="monthSelect"></select>
            <select id="yearSelect"></select>
        </div>
        <div class="calendar">
            <div class="header">
                <button id="prevBtn">&lt;</button>
                <h2 id="monthYear"></h2>
                <button id="nextBtn">&gt;</button>
            </div>
            <table id="calendarBody">
                <thead>
                    <tr>
                        <th>Min</th>
                        <th>Sen</th>
                        <th>Sel</th>
                        <th>Rab</th>
                        <th>Kam</th>
                        <th>Jum</th>
                        <th>Sab</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
    <footer>
        <p>Created by Â©ZinXploit</p>
    </footer>

    <script>
        const monthYear = document.getElementById('monthYear');
        const calendarBody = document.getElementById('calendarBody');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const monthSelect = document.getElementById('monthSelect');
        const yearSelect = document.getElementById('yearSelect');

        let currentDate = new Date();
        let currentMonth = currentDate.getMonth();
        let currentYear = currentDate.getFullYear();

        const namaHari = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
        const namaPasaran = ["Wage", "Kliwon", "Legi", "Pahing", "Pon"];
        const namaBulan = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];

        // Data hari libur (format: MM-DD)
        const holidays = {
            2024: ["01-01", "02-12", "02-14", "03-11", "03-29", "04-10", "04-11", "05-01", "05-09", "05-10", "05-20", "06-17", "07-07", "08-17", "09-16", "12-25", "12-26", "04-10", "04-11"], // Lebaran 2024: 10-11 April
            2025: ["01-01", "01-29", "03-31", "04-01", "04-04", "05-01", "05-19", "05-29", "06-16", "08-05", "08-17", "10-06", "12-25", "03-31", "04-01"], // Lebaran 2025: 31 Maret - 1 April
            // Tambahkan data hari libur untuk tahun-tahun lainnya
        };

        // Fungsi untuk mengisi pilihan bulan
        function populateMonthSelect() {
            for (let i = 0; i < namaBulan.length; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.text = namaBulan[i];
                monthSelect.add(option);
            }
            monthSelect.value = currentMonth;
        }

        // Fungsi untuk mengisi pilihan tahun
        function populateYearSelect() {
            let startYear = currentYear - 50;
            let endYear = currentYear + 50;

            for (let i = startYear; i <= endYear; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.text = i;
                yearSelect.add(option);
            }
            yearSelect.value = currentYear;
        }

        // Fungsi untuk memeriksa apakah suatu tanggal adalah hari libur
        function isHoliday(month, day, year) {
            const monthStr = String(month + 1).padStart(2, '0');
            const dayStr = String(day).padStart(2, '0');
            const dateStr = `${monthStr}-${dayStr}`;
            return holidays[year] && holidays[year].includes(dateStr);
        }

        function updateCalendar(month, year) {
            monthYear.textContent = `${new Intl.DateTimeFormat('id-ID', {
                month: 'long',
                year: 'numeric'
            }).format(new Date(year, month))}`;

            let firstDay = new Date(year, month, 1);
            let lastDay = new Date(year, month + 1, 0);
            let daysInMonth = lastDay.getDate();
            let startingDay = firstDay.getDay();

            let tableBody = '';
            let dayCounter = 1;

            for (let i = 0; i < 6; i++) {
                let row = '<tr>';
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < startingDay) {
                        row += '<td></td>';
                    } else if (dayCounter <= daysInMonth) {
                        let tanggal = dayCounter;
                        let hari = namaHari[(startingDay + tanggal - 1) % 7];
                        let pasaran = namaPasaran[((startingDay + tanggal - 1) % 5)];
                        let weton = `${hari} ${pasaran}`;
                        let neptu = getNeptu(hari, pasaran);

                        // Tandai hari Minggu sebagai hari libur
                        let isSunday = hari === "Minggu";
                        let isTodayHoliday = isHoliday(month, tanggal, year) || isSunday;
                        let tdClass = isTodayHoliday ? 'holiday' : '';

                        row += `<td data-tanggal="${tanggal}" data-hari="${hari}" data-pasaran="${pasaran}" class="${tdClass}">
                                    ${tanggal}<br>
                                    <small>${weton} (${neptu})</small>
                                </td>`;
                        dayCounter++;
                    } else {
                        row += '<td></td>';
                    }
                }
                row += '</tr>';
                tableBody += row;
            }

            calendarBody.innerHTML = tableBody;
        }

        function getNeptu(day, pasaran) {
            let neptuHari = 0;
            let neptuPasaran = 0;

            switch (day) {
                case "Minggu":
                    neptuHari = 5;
                    break;
                case "Senin":
                    neptuHari = 4;
                    break;
                case "Selasa":
                    neptuHari = 3;
                    break;
                case "Rabu":
                    neptuHari = 7;
                    break;
                case "Kamis":
                    neptuHari = 8;
                    break;
                case "Jumat":
                    neptuHari = 6;
                    break;
                case "Sabtu":
                    neptuHari = 9;
                    break;
            }

            switch (pasaran) {
                case "Wage":
                    neptuPasaran = 4;
                    break;
                case "Kliwon":
                    neptuPasaran = 8;
                    break;
                case "Legi":
                    neptuPasaran = 5;
                    break;
                case "Pahing":
                    neptuPasaran = 9;
                    break;
                case "Pon":
                    neptuPasaran = 7;
                    break;
            }

            return neptuHari + neptuPasaran;
        }

        prevBtn.addEventListener('click', () => {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            monthSelect.value = currentMonth;
            yearSelect.value = currentYear;
            updateCalendar(currentMonth, currentYear);
        });

        nextBtn.addEventListener('click', () => {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            monthSelect.value = currentMonth;
            yearSelect.value = currentYear;
            updateCalendar(currentMonth, currentYear);
        });

        monthSelect.addEventListener('change', () => {
            currentMonth = parseInt(monthSelect.value);
            updateCalendar(currentMonth, currentYear);
        });

        yearSelect.addEventListener('change', () => {
            currentYear = parseInt(yearSelect.value);
            updateCalendar(currentMonth, currentYear);
        });

        populateMonthSelect();
        populateYearSelect();
        updateCalendar(currentMonth, currentYear);
    </script>
</body>

</html>
